<!DOCTYPE html>
<html>

<head>
    <title>Firebase</title>
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="code.css">
</head>

<body>
    <div class="container-fluid">
        <a id="logo" href="../index.html"></a>
        <h3><span>the </span>firebase<span> demo</span></h3>

        <ul class="iconnav">
            <li class="info"><a href="firebase_info.html">About</a></li>
            <li class="list"><a href="firebase_impl.html">Implementations</a></li>
            <li class="dev current"><a href="firebase_dev.html">Contribute</a></li>
        </ul>

        <div class="content">

            <p>Create a file <code>battle</code> that is rendered from <code>bootstrap</code>.</p>
            <p>This demo uses a common module, available at &#39;../../../nudger.js&#39;. Here&#39;s the source:</p>
            <pre><code><span class="hljs-keyword">var</span> firebase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'firebase/app'</span>)
<span class="hljs-built_in">require</span>(<span class="hljs-string">'firebase/database'</span>)

firebase.initializeApp({
  <span class="hljs-attr">apiKey</span>: <span class="hljs-string">"AIzaSyAqWWr5VIuGMdLD8cAY-C2bmUp-9_tYJM8"</span>,
  <span class="hljs-attr">authDomain</span>: <span class="hljs-string">"jscomp-potter.firebaseapp.com"</span>,
  <span class="hljs-attr">databaseURL</span>: <span class="hljs-string">"https://jscomp-potter.firebaseio.com"</span>
});

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">subscribe</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>)</span>{
    firebase.database().ref(<span class="hljs-string">'/'</span>).on(<span class="hljs-string">'value'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">snapshot</span>)</span>{
      cb(snapshot.val())
    })
  },
  <span class="hljs-attr">nudge</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">team</span>)</span>{
    firebase.database().ref(team).transaction(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)</span>{
      <span class="hljs-keyword">return</span> c+<span class="hljs-number">1</span>
    })
  }
}
</code></pre>
            <p>Thus you get access to <code>.subscribe(cb)</code> and <code>.nudge(housename)</code> methods, to be called at compile time and when a button is clicked respectively.</p>
            <p>If possible you should introduce this module in the framework&#39;s service-handling functionality.</p>


        </div>
        <footer></footer>
    </div>

    <script src="scripts/jquery.js"></script>
    <script src="scripts/code.js"></script>
</body>

</html>