<!DOCTYPE html>
<html>

<head>
    <title>Firebase</title>
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="code.css">
</head>

<body>
    <div class="container-fluid">
        <h2><span><a href="../index.html">JS Comp</a> &gt; </span>firebase</h2>

        <h4>Implementations</h4>

        To see an implementation, click their description link in the `implementation` column below!

        <table>
            <thead>
                <th>Framework</th>
                <th>Implementation</th>
                <th>Code size</th>
                <th>Bundle size</th>
                <th>Author</th>
            </thead>
            <tbody>
                <tr>
                    <td>Angular2 (2.0.0-rc.6)</td>
                    <td><a href="firebase_angular2_typescript_info.html">TypeScript</a></td>
                    <td>1199</td>
                    <td>2093135</td>
                    <td><a href="http://github.com/krawaller" target="_blank">krawaller</a></td>
                </tr>
                <tr>
                    <td>React (15.3.1)</td>
                    <td><a href="firebase_react_es6_info.html">es6 class</a></td>
                    <td>929</td>
                    <td>882096</td>
                    <td><a href="http://github.com/mw222rs" target="_blank">mw222rs</a></td>
                </tr>
            </tbody>
        </table>

        <h4 id="functionality">Functionality</h4>
        <p>Show a button for each Hogwarts house, containing the house name and current count. Clicking a button increases the count for that house.</p>
        <p>Uses a Firebase backend so that counts are common for all users.</p>
        <p>Before any data is loaded it should just show a <code>Fetching data</code> message.</p>
        <h4 id="rationale">Rationale</h4>
        <p>Shows off how the framework handles...</p>
        <ul>
            <li>services</li>
            <li>conditional rendering</li>
            <li>looping over object in template</li>
            <li>asynchronisity</li>
        </ul>
        <h4 id="implementation-instructions">Implementation instructions</h4>
        <p>Create a file <code>battle</code> that is rendered from <code>bootstrap</code>.</p>
        <p>This demo uses a common module, available at &#39;../../../nudger.js&#39;. Here&#39;s the source:</p>
        <pre><code><span class="hljs-keyword">var</span> firebase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'firebase/app'</span>)
<span class="hljs-built_in">require</span>(<span class="hljs-string">'firebase/database'</span>)

firebase.initializeApp({
  apiKey: <span class="hljs-string">"AIzaSyAqWWr5VIuGMdLD8cAY-C2bmUp-9_tYJM8"</span>,
  authDomain: <span class="hljs-string">"jscomp-potter.firebaseapp.com"</span>,
  databaseURL: <span class="hljs-string">"https://jscomp-potter.firebaseio.com"</span>
});

<span class="hljs-built_in">module</span>.exports = {
  subscribe: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>)</span>{
    firebase.database().ref(<span class="hljs-string">'/'</span>).on(<span class="hljs-string">'value'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">snapshot</span>)</span>{
      cb(snapshot.val())
    })
  },
  nudge: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">team</span>)</span>{
    firebase.database().ref(team).transaction(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)</span>{
      <span class="hljs-keyword">return</span> c+<span class="hljs-number">1</span>
    })
  }
}
</code></pre>
        <p>Thus you get access to <code>.subscribe(cb)</code> and <code>.nudge(housename)</code> methods, to be called at compile time and when a button is clicked respectively.</p>
        <p>If possible you should introduce this module in the framework&#39;s service-handling functionality.</p>

        <footer></footer>
    </div>
</body>

</html>